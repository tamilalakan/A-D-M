!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular/fire"),require("@angular/common")):"function"==typeof define&&define.amd?define("@angular/fire/auth",["exports","@angular/core","rxjs","rxjs/operators","@angular/fire","@angular/common"],r):r(((e="undefined"!=typeof globalThis?globalThis:e||self).angular=e.angular||{},e.angular.fire=e.angular.fire||{},e.angular.fire.auth={}),e.ng.core,e.rxjs,e.rxjs.operators,e.angular.fire,e.ng.common)}(this,(function(e,r,n,t,u,i){"use strict";var o=function(e,r,o,a){var s=new u.ɵAngularFireSchedulers(a),c=u.ɵkeepUnstableUntilFirstFactory(s),f=n.of(void 0).pipe(t.observeOn(s.outsideAngular),t.switchMap((function(){return a.runOutsideAngular((function(){return import("firebase/auth")}))})),t.map((function(){return u.ɵfirebaseAppFactory(e,a,r)})),t.map((function(e){return a.runOutsideAngular((function(){return e.auth()}))})),t.shareReplay({bufferSize:1,refCount:!1}));i.isPlatformServer(o)?this.authState=this.user=this.idToken=this.idTokenResult=n.of(null):(f.pipe(t.first()).subscribe(),this.authState=f.pipe(t.switchMap((function(e){return e.getRedirectResult().then((function(){return e}),(function(){return e}))})),t.switchMap((function(e){return a.runOutsideAngular((function(){return new n.Observable(e.onAuthStateChanged.bind(e))}))})),c),this.user=f.pipe(t.switchMap((function(e){return e.getRedirectResult().then((function(){return e}),(function(){return e}))})),t.switchMap((function(e){return a.runOutsideAngular((function(){return new n.Observable(e.onIdTokenChanged.bind(e))}))})),c),this.idToken=this.user.pipe(t.switchMap((function(e){return e?n.from(e.getIdToken()):n.of(null)}))),this.idTokenResult=this.user.pipe(t.switchMap((function(e){return e?n.from(e.getIdTokenResult()):n.of(null)}))));return u.ɵlazySDKProxy(this,f,a)};o.decorators=[{type:r.Injectable,args:[{providedIn:"any"}]}],o.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.Inject,args:[u.FIREBASE_OPTIONS]}]},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[u.FIREBASE_APP_NAME]}]},{type:Object,decorators:[{type:r.Inject,args:[r.PLATFORM_ID]}]},{type:r.NgZone}]},o.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new o(r.ɵɵinject(u.FIREBASE_OPTIONS),r.ɵɵinject(u.FIREBASE_APP_NAME,8),r.ɵɵinject(r.PLATFORM_ID),r.ɵɵinject(r.NgZone))},token:o,providedIn:"any"});var a=function(){};a.decorators=[{type:r.NgModule,args:[{providers:[o]}]}],e.AngularFireAuth=o,e.AngularFireAuthModule=a,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-fire-auth.umd.min.js.map